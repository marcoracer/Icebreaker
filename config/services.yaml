# Service specifications for Icebreaker MCP Server
# Based on official Snowflake MCP format with Icebreaker extensions

# Tier 1: Discovery Services (Phase 1)
discovery:
  enabled: true
  tools:
    - "*"

# Tier 2: Operational Services (Phase 2)
operational:
  enabled: true   # All services enabled for full availability
  safety_checks: normal
  tools:
    - "*"

# Tier 3: Engineering Services (Phase 3)
engineering:
  enabled: true   # All services enabled for full availability
  tools:
    - "*"

# Tier 4: Intelligence Services (Phase 4)
intelligence:
  enabled: true   # All services enabled for full availability
  tools:
    - "*"

# SQL permissions
sql_statement_permissions:
  # Read permissions (Tier 1) - All read operations allowed
  allowed:
    - "*"
    - SELECT
    - SHOW
    - DESCRIBE
    - GET_DDL
    - USE
    - WITH
    - LIST
    - GET

  # Administrative permissions (Tier 2+) - All admin operations allowed
  administrative_allowed:
    - "*"
    - ALTER WAREHOUSE
    - CREATE USER
    - ALTER USER
    - GRANT ROLE
    - SYSTEM$ABORT_QUERY
    - CREATE DATABASE
    - CREATE SCHEMA
    - CREATE TABLE
    - CREATE VIEW
    - CREATE WAREHOUSE
    - ALTER DATABASE
    - ALTER SCHEMA
    - ALTER TABLE
    - INSERT
    - UPDATE
    - DELETE
    - MERGE
    - COPY INTO
    - PUT
    - GET

  # Always disallowed - Only truly dangerous operations
  disallowed:
    - DROP DATABASE
    - DROP SCHEMA
    - DROP WAREHOUSE
    - DROP TABLE
    - DROP VIEW
    - DROP USER
    - DROP ROLE
    - UNSUPPORTED